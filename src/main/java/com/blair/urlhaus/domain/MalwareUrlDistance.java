package com.blair.urlhaus.domain;

import io.swagger.v3.oas.annotations.media.Schema;

import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.List;

public class MalwareUrlDistance extends MalwareUrl {
    @Schema(description = "Estimated distance from the search point")
    private BigDecimal distance;

    public MalwareUrlDistance(long id, LocalDateTime dateAdded, String url, String urlStatus, String threat, List<String> tags, String urlHausLink, String reporter, String country, String city, BigDecimal latitude, BigDecimal longitude, BigDecimal distance) {
        super(id, dateAdded, url, urlStatus, threat, tags, urlHausLink, reporter, country, city, latitude, longitude);
        this.distance = distance;
    }

    public static MalwareUrlDistance fromMalwareUrl(MalwareUrl malwareUrl, BigDecimal distance) {
        return new MalwareUrlDistance(
                malwareUrl.getId(),
                malwareUrl.getDateAdded(),
                malwareUrl.getUrl(),
                malwareUrl.getUrlStatus(),
                malwareUrl.getThreat(),
                malwareUrl.getTags(),
                malwareUrl.getUrlStatus(),
                malwareUrl.getReporter(),
                malwareUrl.getCountry(),
                malwareUrl.getCity(),
                malwareUrl.getLatitude(),
                malwareUrl.getLongitude(),
                distance
        );
    }

    public BigDecimal getDistance() {
        return distance;
    }
}
